2024-06-02T14:02:53.2419437-03:00  [INF] Now listening on: "http://localhost:5034" (d826f4b8)
2024-06-02T14:02:53.2512843-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-02T14:02:53.2545096-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-02T14:02:53.2566684-03:00  [INF] Content root path: "C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal" (cc26f24e)
2024-06-02T14:02:56.2243120-03:00 0HN434NBNRMC3:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - null null (d509f86a)
2024-06-02T14:02:56.8710489-03:00 0HN434NBNRMC3:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 657.0776ms (74253ad3)
2024-06-02T14:02:56.8775410-03:00 0HN434NBNRMC3:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-06-02T14:02:56.8781293-03:00 0HN434NBNRMC4:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - null null (d509f86a)
2024-06-02T14:02:56.8804706-03:00 0HN434NBNRMC3:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 3.01ms (74253ad3)
2024-06-02T14:02:56.9932499-03:00 0HN434NBNRMC4:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 115.19ms (74253ad3)
2024-06-02T14:02:57.0592780-03:00 0HN434NBNRMC4:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - null null (d509f86a)
2024-06-02T14:02:57.2174194-03:00 0HN434NBNRMC4:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 158.1783ms (74253ad3)
2024-06-02T14:04:48.6068121-03:00 0HN434NBNRMC5:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/api/Sales/report""" - null null (d509f86a)
2024-06-02T14:04:48.6144784-03:00 0HN434NBNRMC5:00000001 [INF] Executing endpoint '"APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)"' (500cc934)
2024-06-02T14:04:48.6410837-03:00 0HN434NBNRMC5:00000001 [INF] Route matched with "{action = \"GetSalesReport\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[APITrabalhoFinal.Services.DTOs.SalesReportDTO]] GetSalesReport(System.DateTime, System.DateTime)" on controller "APITrabalhoFinal.Controllers.SalesController" ("APITrabalhoFinal"). (122b2fdf)
2024-06-02T14:04:51.0312144-03:00 0HN434NBNRMC5:00000001 [INF] Executed DbCommand ("61"ms) [Parameters=["@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM tb_sales AS t
    INNER JOIN tb_products AS t0 ON t.productid = t0.id
    WHERE t.createat >= @__startDate_0 AND t.createat <= @__endDate_1
    GROUP BY t.code)" (0723d8ff)
2024-06-02T14:04:51.2382096-03:00 0HN434NBNRMC5:00000001 [INF] Executing "NotFoundObjectResult", writing value of type '"System.String"'. (605b4265)
2024-06-02T14:04:51.2417092-03:00 0HN434NBNRMC5:00000001 [INF] Executed action "APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)" in 2597.4268ms (afa2e885)
2024-06-02T14:04:51.2418343-03:00 0HN434NBNRMC5:00000001 [INF] Executed endpoint '"APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)"' (99874f2b)
2024-06-02T14:04:51.2491494-03:00 0HN434NBNRMC5:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/api/Sales/report""" - 404 null "text/plain; charset=utf-8" 2643.3982ms (74253ad3)
2024-06-02T14:05:31.7374170-03:00 0HN434NBNRMC6:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/api/Sales/report""?startDate=2024-01-01&endDate=2024-03-31" - null null (d509f86a)
2024-06-02T14:05:31.7386142-03:00 0HN434NBNRMC6:00000001 [INF] Executing endpoint '"APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)"' (500cc934)
2024-06-02T14:05:31.7389007-03:00 0HN434NBNRMC6:00000001 [INF] Route matched with "{action = \"GetSalesReport\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[APITrabalhoFinal.Services.DTOs.SalesReportDTO]] GetSalesReport(System.DateTime, System.DateTime)" on controller "APITrabalhoFinal.Controllers.SalesController" ("APITrabalhoFinal"). (122b2fdf)
2024-06-02T14:05:31.7787516-03:00 0HN434NBNRMC6:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM tb_sales AS t
    INNER JOIN tb_products AS t0 ON t.productid = t0.id
    WHERE t.createat >= @__startDate_0 AND t.createat <= @__endDate_1
    GROUP BY t.code)" (0723d8ff)
2024-06-02T14:05:31.8012137-03:00 0HN434NBNRMC6:00000001 [INF] Executing "NotFoundObjectResult", writing value of type '"System.String"'. (605b4265)
2024-06-02T14:05:31.8014407-03:00 0HN434NBNRMC6:00000001 [INF] Executed action "APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)" in 62.4864ms (afa2e885)
2024-06-02T14:05:31.8015103-03:00 0HN434NBNRMC6:00000001 [INF] Executed endpoint '"APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)"' (99874f2b)
2024-06-02T14:05:31.8016598-03:00 0HN434NBNRMC6:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/api/Sales/report""?startDate=2024-01-01&endDate=2024-03-31" - 404 null "text/plain; charset=utf-8" 65.397ms (74253ad3)
2024-06-02T14:06:02.5942654-03:00 0HN434NBNRMC7:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/api/Sales/report""?startDate=2024-06-02%20&endDate=2024-06-03" - null null (d509f86a)
2024-06-02T14:06:02.5991325-03:00 0HN434NBNRMC7:00000001 [INF] Executing endpoint '"APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)"' (500cc934)
2024-06-02T14:06:02.5992932-03:00 0HN434NBNRMC7:00000001 [INF] Route matched with "{action = \"GetSalesReport\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[APITrabalhoFinal.Services.DTOs.SalesReportDTO]] GetSalesReport(System.DateTime, System.DateTime)" on controller "APITrabalhoFinal.Controllers.SalesController" ("APITrabalhoFinal"). (122b2fdf)
2024-06-02T14:06:02.6497009-03:00 0HN434NBNRMC7:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM tb_sales AS t
    INNER JOIN tb_products AS t0 ON t.productid = t0.id
    WHERE t.createat >= @__startDate_0 AND t.createat <= @__endDate_1
    GROUP BY t.code)" (0723d8ff)
2024-06-02T14:06:02.6764936-03:00 0HN434NBNRMC7:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.code AS \"SaleCode\", (
    SELECT t3.description
    FROM tb_sales AS t1
    INNER JOIN tb_products AS t2 ON t1.productid = t2.id
    INNER JOIN tb_products AS t3 ON t1.productid = t3.id
    WHERE t1.createat >= @__startDate_0 AND t1.createat <= @__endDate_1 AND t.code = t1.code
    LIMIT 1) AS \"ProductDescription\", (
    SELECT t4.price
    FROM tb_sales AS t4
    INNER JOIN tb_products AS t5 ON t4.productid = t5.id
    WHERE t4.createat >= @__startDate_0 AND t4.createat <= @__endDate_1 AND t.code = t4.code
    LIMIT 1) AS \"Price\", (
    SELECT t6.qty
    FROM tb_sales AS t6
    INNER JOIN tb_products AS t7 ON t6.productid = t7.id
    WHERE t6.createat >= @__startDate_0 AND t6.createat <= @__endDate_1 AND t.code = t6.code
    LIMIT 1) AS \"Quantity\", (
    SELECT t8.createat
    FROM tb_sales AS t8
    INNER JOIN tb_products AS t9 ON t8.productid = t9.id
    WHERE t8.createat >= @__startDate_0 AND t8.createat <= @__endDate_1 AND t.code = t8.code
    LIMIT 1) AS \"SaleDate\"
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.createat >= @__startDate_0 AND t.createat <= @__endDate_1
GROUP BY t.code" (0723d8ff)
2024-06-02T14:06:02.6910511-03:00 0HN434NBNRMC7:00000001 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[APITrabalhoFinal.Services.DTOs.SalesReportDTO, APITrabalhoFinal, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-02T14:06:02.7093896-03:00 0HN434NBNRMC7:00000001 [INF] Executed action "APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)" in 110.0415ms (afa2e885)
2024-06-02T14:06:02.7094592-03:00 0HN434NBNRMC7:00000001 [INF] Executed endpoint '"APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)"' (99874f2b)
2024-06-02T14:06:02.7096069-03:00 0HN434NBNRMC7:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/api/Sales/report""?startDate=2024-06-02%20&endDate=2024-06-03" - 200 null "application/json; charset=utf-8" 115.3653ms (74253ad3)
2024-06-02T14:10:23.5879197-03:00  [INF] Now listening on: "http://localhost:5034" (d826f4b8)
2024-06-02T14:10:23.5960141-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-02T14:10:23.6042498-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-02T14:10:23.6061088-03:00  [INF] Content root path: "C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal" (cc26f24e)
2024-06-02T14:10:24.1087087-03:00 0HN434RI23I3J:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - null null (d509f86a)
2024-06-02T14:10:24.3740949-03:00 0HN434RI23I3J:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 271.6627ms (74253ad3)
2024-06-02T14:10:24.3803781-03:00 0HN434RI23I3J:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-06-02T14:10:24.3814963-03:00 0HN434RI23I3K:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - null null (d509f86a)
2024-06-02T14:10:24.3825323-03:00 0HN434RI23I3J:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 2.1976ms (74253ad3)
2024-06-02T14:10:24.4165798-03:00 0HN434RI23I3K:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 35.1199ms (74253ad3)
2024-06-02T14:10:24.5705914-03:00 0HN434RI23I3K:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - null null (d509f86a)
2024-06-02T14:10:24.7133584-03:00 0HN434RI23I3K:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 142.8304ms (74253ad3)
2024-06-02T14:10:59.1371256-03:00 0HN434RI23I3L:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/api/Sales/report""?startDate=2024-06-02&endDate=2024-06-03" - null null (d509f86a)
2024-06-02T14:10:59.1447343-03:00 0HN434RI23I3L:00000001 [INF] Executing endpoint '"APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)"' (500cc934)
2024-06-02T14:10:59.1644512-03:00 0HN434RI23I3L:00000001 [INF] Route matched with "{action = \"GetSalesReport\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[APITrabalhoFinal.Services.DTOs.SalesReportDTO]] GetSalesReport(System.DateTime, System.DateTime)" on controller "APITrabalhoFinal.Controllers.SalesController" ("APITrabalhoFinal"). (122b2fdf)
2024-06-02T14:11:00.4196507-03:00 0HN434RI23I3L:00000001 [INF] Executed DbCommand ("49"ms) [Parameters=["@__startDate_0='?' (DbType = DateTime2), @__AddDays_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM tb_sales AS t
    INNER JOIN tb_products AS t0 ON t.productid = t0.id
    WHERE t.createat >= @__startDate_0 AND t.createat < @__AddDays_1
    GROUP BY t.code)" (0723d8ff)
2024-06-02T14:11:00.4625414-03:00 0HN434RI23I3L:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__startDate_0='?' (DbType = DateTime2), @__AddDays_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.code AS \"SaleCode\", (
    SELECT t3.description
    FROM tb_sales AS t1
    INNER JOIN tb_products AS t2 ON t1.productid = t2.id
    INNER JOIN tb_products AS t3 ON t1.productid = t3.id
    WHERE t1.createat >= @__startDate_0 AND t1.createat < @__AddDays_1 AND t.code = t1.code
    LIMIT 1) AS \"ProductDescription\", (
    SELECT t4.price
    FROM tb_sales AS t4
    INNER JOIN tb_products AS t5 ON t4.productid = t5.id
    WHERE t4.createat >= @__startDate_0 AND t4.createat < @__AddDays_1 AND t.code = t4.code
    LIMIT 1) AS \"Price\", (
    SELECT t6.qty
    FROM tb_sales AS t6
    INNER JOIN tb_products AS t7 ON t6.productid = t7.id
    WHERE t6.createat >= @__startDate_0 AND t6.createat < @__AddDays_1 AND t.code = t6.code
    LIMIT 1) AS \"Quantity\", (
    SELECT t8.createat
    FROM tb_sales AS t8
    INNER JOIN tb_products AS t9 ON t8.productid = t9.id
    WHERE t8.createat >= @__startDate_0 AND t8.createat < @__AddDays_1 AND t.code = t8.code
    LIMIT 1) AS \"SaleDate\"
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.createat >= @__startDate_0 AND t.createat < @__AddDays_1
GROUP BY t.code" (0723d8ff)
2024-06-02T14:11:00.4788115-03:00 0HN434RI23I3L:00000001 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[APITrabalhoFinal.Services.DTOs.SalesReportDTO, APITrabalhoFinal, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-02T14:11:00.4936655-03:00 0HN434RI23I3L:00000001 [INF] Executed action "APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)" in 1326.2571ms (afa2e885)
2024-06-02T14:11:00.4938007-03:00 0HN434RI23I3L:00000001 [INF] Executed endpoint '"APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)"' (99874f2b)
2024-06-02T14:11:00.5005272-03:00 0HN434RI23I3L:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/api/Sales/report""?startDate=2024-06-02&endDate=2024-06-03" - 200 null "application/json; charset=utf-8" 1363.4521ms (74253ad3)
2024-06-02T14:16:36.1444979-03:00  [INF] Now listening on: "http://localhost:5034" (d826f4b8)
2024-06-02T14:16:36.1533657-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-02T14:16:36.1567515-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-02T14:16:36.1589297-03:00  [INF] Content root path: "C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal" (cc26f24e)
2024-06-02T14:16:36.8017311-03:00 0HN434V12SJ6K:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - null null (d509f86a)
2024-06-02T14:16:37.2037103-03:00 0HN434V12SJ6K:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 411.5238ms (74253ad3)
2024-06-02T14:16:37.2213142-03:00 0HN434V12SJ6K:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-06-02T14:16:37.2213143-03:00 0HN434V12SJ6M:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - null null (d509f86a)
2024-06-02T14:16:37.2251536-03:00 0HN434V12SJ6K:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 6.9318ms (74253ad3)
2024-06-02T14:16:37.2626547-03:00 0HN434V12SJ6M:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 44.4736ms (74253ad3)
2024-06-02T14:16:37.3678821-03:00 0HN434V12SJ6M:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - null null (d509f86a)
2024-06-02T14:16:37.5839761-03:00 0HN434V12SJ6M:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 216.179ms (74253ad3)
2024-06-02T14:17:10.8576588-03:00 0HN434V12SJ6N:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/api/Sales/report""?startDate=2024-06-02&endDate=2024-06-03" - null null (d509f86a)
2024-06-02T14:17:10.8667879-03:00 0HN434V12SJ6N:00000001 [INF] Executing endpoint '"APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)"' (500cc934)
2024-06-02T14:17:10.8920758-03:00 0HN434V12SJ6N:00000001 [INF] Route matched with "{action = \"GetSalesReport\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[APITrabalhoFinal.Services.DTOs.SalesReportDTO]] GetSalesReport(System.DateTime, System.DateTime)" on controller "APITrabalhoFinal.Controllers.SalesController" ("APITrabalhoFinal"). (122b2fdf)
2024-06-02T14:17:12.1909587-03:00 0HN434V12SJ6N:00000001 [INF] Executed DbCommand ("45"ms) [Parameters=["@__startDate_0='?' (DbType = DateTime2), @__AddDays_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM tb_sales AS t
    INNER JOIN tb_products AS t0 ON t.productid = t0.id
    WHERE t.createat >= @__startDate_0 AND t.createat < @__AddDays_1)" (0723d8ff)
2024-06-02T14:17:12.2278892-03:00 0HN434V12SJ6N:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__startDate_0='?' (DbType = DateTime2), @__AddDays_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.code AS \"SaleCode\", t0.description AS \"ProductDescription\", t.price AS \"Price\", t.qty AS \"Quantity\", t.createat AS \"SaleDate\"
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.createat >= @__startDate_0 AND t.createat < @__AddDays_1" (0723d8ff)
2024-06-02T14:17:12.2453371-03:00 0HN434V12SJ6N:00000001 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[APITrabalhoFinal.Services.DTOs.SalesReportDTO, APITrabalhoFinal, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-02T14:17:12.2614526-03:00 0HN434V12SJ6N:00000001 [INF] Executed action "APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)" in 1366.3925ms (afa2e885)
2024-06-02T14:17:12.2615875-03:00 0HN434V12SJ6N:00000001 [INF] Executed endpoint '"APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)"' (99874f2b)
2024-06-02T14:17:12.2673860-03:00 0HN434V12SJ6N:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/api/Sales/report""?startDate=2024-06-02&endDate=2024-06-03" - 200 null "application/json; charset=utf-8" 1409.7448ms (74253ad3)
2024-06-02T14:20:24.9094900-03:00  [INF] Now listening on: "http://localhost:5034" (d826f4b8)
2024-06-02T14:20:24.9170782-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-02T14:20:24.9198379-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-02T14:20:24.9220265-03:00  [INF] Content root path: "C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal" (cc26f24e)
2024-06-02T14:20:25.5724451-03:00 0HN43515A2S5D:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - null null (d509f86a)
2024-06-02T14:20:25.8584490-03:00 0HN43515A2S5D:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 290.5815ms (74253ad3)
2024-06-02T14:20:25.8699376-03:00 0HN43515A2S5E:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - null null (d509f86a)
2024-06-02T14:20:25.8699380-03:00 0HN43515A2S5D:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-06-02T14:20:25.8720605-03:00 0HN43515A2S5D:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 2.1521ms (74253ad3)
2024-06-02T14:20:25.9039708-03:00 0HN43515A2S5E:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 34.1471ms (74253ad3)
2024-06-02T14:20:26.0031255-03:00 0HN43515A2S5E:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - null null (d509f86a)
2024-06-02T14:20:26.1673590-03:00 0HN43515A2S5E:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 164.2647ms (74253ad3)
2024-06-02T14:20:34.1844968-03:00 0HN43515A2S5F:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/api/Sales/report""" - null null (d509f86a)
2024-06-02T14:20:34.1945539-03:00 0HN43515A2S5F:00000001 [INF] Executing endpoint '"APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)"' (500cc934)
2024-06-02T14:20:34.2150542-03:00 0HN43515A2S5F:00000001 [INF] Route matched with "{action = \"GetSalesReport\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[APITrabalhoFinal.Services.DTOs.SalesReportDTO]] GetSalesReport(System.DateTime, System.DateTime)" on controller "APITrabalhoFinal.Controllers.SalesController" ("APITrabalhoFinal"). (122b2fdf)
2024-06-02T14:20:34.3405445-03:00 0HN43515A2S5F:00000001 [INF] Executing "BadRequestObjectResult", writing value of type '"System.String"'. (605b4265)
2024-06-02T14:20:34.3435049-03:00 0HN43515A2S5F:00000001 [INF] Executed action "APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)" in 125.7727ms (afa2e885)
2024-06-02T14:20:34.3436253-03:00 0HN43515A2S5F:00000001 [INF] Executed endpoint '"APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)"' (99874f2b)
2024-06-02T14:20:34.3449959-03:00 0HN43515A2S5F:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/api/Sales/report""" - 400 null "text/plain; charset=utf-8" 160.5387ms (74253ad3)
2024-06-02T14:21:08.9975190-03:00 0HN43515A2S5G:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/api/Sales/report""?startDate=2024-06-02&endDate=2024-06-03" - null null (d509f86a)
2024-06-02T14:21:08.9988383-03:00 0HN43515A2S5G:00000001 [INF] Executing endpoint '"APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)"' (500cc934)
2024-06-02T14:21:08.9992050-03:00 0HN43515A2S5G:00000001 [INF] Route matched with "{action = \"GetSalesReport\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[APITrabalhoFinal.Services.DTOs.SalesReportDTO]] GetSalesReport(System.DateTime, System.DateTime)" on controller "APITrabalhoFinal.Controllers.SalesController" ("APITrabalhoFinal"). (122b2fdf)
2024-06-02T14:21:10.2128896-03:00 0HN43515A2S5G:00000001 [INF] Executed DbCommand ("51"ms) [Parameters=["@__startDate_0='?' (DbType = DateTime2), @__AddDays_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM tb_sales AS t
    INNER JOIN tb_products AS t0 ON t.productid = t0.id
    WHERE t.createat >= @__startDate_0 AND t.createat < @__AddDays_1)" (0723d8ff)
2024-06-02T14:21:10.2463446-03:00 0HN43515A2S5G:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__startDate_0='?' (DbType = DateTime2), @__AddDays_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.code AS \"SaleCode\", t0.description AS \"ProductDescription\", t.price AS \"Price\", t.qty AS \"Quantity\", t.createat AS \"SaleDate\"
FROM tb_sales AS t
INNER JOIN tb_products AS t0 ON t.productid = t0.id
WHERE t.createat >= @__startDate_0 AND t.createat < @__AddDays_1" (0723d8ff)
2024-06-02T14:21:10.2559626-03:00 0HN43515A2S5G:00000001 [INF] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[APITrabalhoFinal.Services.DTOs.SalesReportDTO, APITrabalhoFinal, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-06-02T14:21:10.2693577-03:00 0HN43515A2S5G:00000001 [INF] Executed action "APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)" in 1270.0183ms (afa2e885)
2024-06-02T14:21:10.2694114-03:00 0HN43515A2S5G:00000001 [INF] Executed endpoint '"APITrabalhoFinal.Controllers.SalesController.GetSalesReport (APITrabalhoFinal)"' (99874f2b)
2024-06-02T14:21:10.2747600-03:00 0HN43515A2S5G:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/api/Sales/report""?startDate=2024-06-02&endDate=2024-06-03" - 200 null "application/json; charset=utf-8" 1277.2968ms (74253ad3)
2024-06-02T14:45:57.8192626-03:00  [INF] Now listening on: "http://localhost:5034" (d826f4b8)
2024-06-02T14:45:57.8443597-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-02T14:45:57.8470956-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-02T14:45:57.8491558-03:00  [INF] Content root path: "C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal" (cc26f24e)
2024-06-02T14:45:59.2411701-03:00 0HN435FE0KOM0:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - null null (d509f86a)
2024-06-02T14:46:00.6618523-03:00 0HN435FE0KOM0:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 1429.241ms (74253ad3)
2024-06-02T14:46:00.6728584-03:00 0HN435FE0KOM0:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-06-02T14:46:00.6756486-03:00 0HN435FE0KOM2:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - null null (d509f86a)
2024-06-02T14:46:00.6777164-03:00 0HN435FE0KOM0:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 5.0288ms (74253ad3)
2024-06-02T14:46:01.1017547-03:00 0HN435FE0KOM2:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 426.189ms (74253ad3)
2024-06-02T14:46:01.1559820-03:00 0HN435FE0KOM2:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - null null (d509f86a)
2024-06-02T14:46:01.3870763-03:00 0HN435FE0KOM2:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 231.1301ms (74253ad3)
2024-06-02T14:50:02.4237009-03:00 0HN435FE0KOM3:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5034""""/api/Promotion""" - "application/json" 142 (d509f86a)
2024-06-02T14:50:02.4345145-03:00 0HN435FE0KOM3:00000001 [INF] Executing endpoint '"APITrabalhoFinal.Controllers.PromotionController.Insert (APITrabalhoFinal)"' (500cc934)
2024-06-02T14:50:02.4579150-03:00 0HN435FE0KOM3:00000001 [INF] Route matched with "{action = \"Insert\", controller = \"Promotion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[APITrabalhoFinal.DataBase.Models.TbPromotion] Insert(APITrabalhoFinal.Services.DTOs.PromotionDTO)" on controller "APITrabalhoFinal.Controllers.PromotionController" ("APITrabalhoFinal"). (122b2fdf)
2024-06-02T14:50:03.8111447-03:00 0HN435FE0KOM3:00000001 [INF] Executed DbCommand ("42"ms) [Parameters=["@__dto_Productid_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM tb_products AS t
    WHERE t.id = @__dto_Productid_0)" (0723d8ff)
2024-06-02T14:50:04.1846607-03:00 0HN435FE0KOM3:00000001 [ERR] Failed executing DbCommand ("9"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_promotions (enddate, productid, startdate, value)
VALUES (@p0, @p1, @p2, @p3)
RETURNING id, promotiontype;" (627a98df)
2024-06-02T14:50:04.3590341-03:00 0HN435FE0KOM3:00000001 [ERR] An exception occurred in the database while saving changes for context type '"APITrabalhoFinal.DataBase.Models.TfDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at APITrabalhoFinal.Services.PromotionService.Insert(PromotionDTO dto) in C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal\Services\PromotionService.cs:line 35
   at APITrabalhoFinal.Controllers.PromotionController.Insert(PromotionDTO promotion) in C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal\Controllers\PromotionController.cs:line 51
2024-06-02T14:50:04.4663717-03:00 0HN435FE0KOM3:00000001 [INF] Executing "ObjectResult", writing value of type '"System.String"'. (605b4265)
2024-06-02T14:50:04.4713968-03:00 0HN435FE0KOM3:00000001 [INF] Executed action "APITrabalhoFinal.Controllers.PromotionController.Insert (APITrabalhoFinal)" in 2009.2899ms (afa2e885)
2024-06-02T14:50:04.4715182-03:00 0HN435FE0KOM3:00000001 [INF] Executed endpoint '"APITrabalhoFinal.Controllers.PromotionController.Insert (APITrabalhoFinal)"' (99874f2b)
2024-06-02T14:50:04.4779631-03:00 0HN435FE0KOM3:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5034""""/api/Promotion""" - 500 null "text/plain; charset=utf-8" 2054.3985ms (74253ad3)
2024-06-02T14:56:04.3308478-03:00  [INF] Now listening on: "http://localhost:5034" (d826f4b8)
2024-06-02T14:56:04.3400671-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-02T14:56:04.3479565-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-02T14:56:04.3499536-03:00  [INF] Content root path: "C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal" (cc26f24e)
2024-06-02T14:56:04.6665823-03:00 0HN435L2OK09T:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - null null (d509f86a)
2024-06-02T14:56:05.0234770-03:00 0HN435L2OK09T:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 364.3126ms (74253ad3)
2024-06-02T14:56:05.0296986-03:00 0HN435L2OK09T:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-06-02T14:56:05.0296985-03:00 0HN435L2OK09U:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - null null (d509f86a)
2024-06-02T14:56:05.0322724-03:00 0HN435L2OK09T:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 2.6834ms (74253ad3)
2024-06-02T14:56:05.0646904-03:00 0HN435L2OK09U:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 35.1398ms (74253ad3)
2024-06-02T14:56:05.1556945-03:00 0HN435L2OK09U:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - null null (d509f86a)
2024-06-02T14:56:05.3575395-03:00 0HN435L2OK09U:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 201.944ms (74253ad3)
2024-06-02T14:57:30.8833069-03:00 0HN435L2OK09V:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5034""""/api/Promotion""" - "application/json" 142 (d509f86a)
2024-06-02T14:57:30.8940607-03:00 0HN435L2OK09V:00000001 [INF] Executing endpoint '"APITrabalhoFinal.Controllers.PromotionController.Insert (APITrabalhoFinal)"' (500cc934)
2024-06-02T14:57:30.9205169-03:00 0HN435L2OK09V:00000001 [INF] Route matched with "{action = \"Insert\", controller = \"Promotion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[APITrabalhoFinal.DataBase.Models.TbPromotion] Insert(APITrabalhoFinal.Services.DTOs.PromotionDTO)" on controller "APITrabalhoFinal.Controllers.PromotionController" ("APITrabalhoFinal"). (122b2fdf)
2024-06-02T14:57:32.3380944-03:00 0HN435L2OK09V:00000001 [INF] Executed DbCommand ("42"ms) [Parameters=["@__dto_Productid_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM tb_products AS t
    WHERE t.id = @__dto_Productid_0)" (0723d8ff)
2024-06-02T14:57:32.5059810-03:00 0HN435L2OK09V:00000001 [ERR] Failed executing DbCommand ("8"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_promotions (enddate, productid, startdate, value)
VALUES (@p0, @p1, @p2, @p3)
RETURNING id, promotiontype;" (627a98df)
2024-06-02T14:57:32.5781523-03:00 0HN435L2OK09V:00000001 [ERR] An exception occurred in the database while saving changes for context type '"APITrabalhoFinal.DataBase.Models.TfDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at APITrabalhoFinal.Services.PromotionService.Insert(PromotionDTO dto) in C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal\Services\PromotionService.cs:line 35
2024-06-02T14:57:32.6805855-03:00 0HN435L2OK09V:00000001 [INF] Executing "ObjectResult", writing value of type '"System.String"'. (605b4265)
2024-06-02T14:57:32.6840367-03:00 0HN435L2OK09V:00000001 [INF] Executed action "APITrabalhoFinal.Controllers.PromotionController.Insert (APITrabalhoFinal)" in 1760.3475ms (afa2e885)
2024-06-02T14:57:32.6841809-03:00 0HN435L2OK09V:00000001 [INF] Executed endpoint '"APITrabalhoFinal.Controllers.PromotionController.Insert (APITrabalhoFinal)"' (99874f2b)
2024-06-02T14:57:32.6906175-03:00 0HN435L2OK09V:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5034""""/api/Promotion""" - 500 null "text/plain; charset=utf-8" 1807.3582ms (74253ad3)
2024-06-02T14:59:25.2871430-03:00  [INF] Now listening on: "http://localhost:5034" (d826f4b8)
2024-06-02T14:59:25.2946217-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-02T14:59:25.3035633-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-02T14:59:25.3053244-03:00  [INF] Content root path: "C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal" (cc26f24e)
2024-06-02T14:59:25.9108945-03:00 0HN435MUP0D8D:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - null null (d509f86a)
2024-06-02T14:59:26.2273305-03:00 0HN435MUP0D8D:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 323.8943ms (74253ad3)
2024-06-02T14:59:26.2355800-03:00 0HN435MUP0D8D:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-06-02T14:59:26.2359823-03:00 0HN435MUP0D8E:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - null null (d509f86a)
2024-06-02T14:59:26.2376797-03:00 0HN435MUP0D8D:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 2.2345ms (74253ad3)
2024-06-02T14:59:26.2725116-03:00 0HN435MUP0D8E:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 36.5414ms (74253ad3)
2024-06-02T14:59:26.3707062-03:00 0HN435MUP0D8E:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - null null (d509f86a)
2024-06-02T14:59:26.5633083-03:00 0HN435MUP0D8E:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 192.6428ms (74253ad3)
2024-06-02T15:00:40.6884975-03:00 0HN435MUP0D8F:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5034""""/api/Promotion""" - "application/json" 142 (d509f86a)
2024-06-02T15:00:40.6974754-03:00 0HN435MUP0D8F:00000001 [INF] Executing endpoint '"APITrabalhoFinal.Controllers.PromotionController.Insert (APITrabalhoFinal)"' (500cc934)
2024-06-02T15:00:40.7206062-03:00 0HN435MUP0D8F:00000001 [INF] Route matched with "{action = \"Insert\", controller = \"Promotion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[APITrabalhoFinal.DataBase.Models.TbPromotion] Insert(APITrabalhoFinal.Services.DTOs.PromotionDTO)" on controller "APITrabalhoFinal.Controllers.PromotionController" ("APITrabalhoFinal"). (122b2fdf)
2024-06-02T15:00:42.0383045-03:00 0HN435MUP0D8F:00000001 [INF] Executed DbCommand ("41"ms) [Parameters=["@__dto_Productid_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM tb_products AS t
    WHERE t.id = @__dto_Productid_0)" (0723d8ff)
2024-06-02T15:00:42.2092889-03:00 0HN435MUP0D8F:00000001 [ERR] Failed executing DbCommand ("11"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_promotions (enddate, productid, startdate, value)
VALUES (@p0, @p1, @p2, @p3)
RETURNING id, promotiontype;" (627a98df)
2024-06-02T15:00:42.2652690-03:00 0HN435MUP0D8F:00000001 [ERR] An exception occurred in the database while saving changes for context type '"APITrabalhoFinal.DataBase.Models.TfDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at APITrabalhoFinal.Services.PromotionService.Insert(PromotionDTO dto) in C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal\Services\PromotionService.cs:line 35
   at APITrabalhoFinal.Controllers.PromotionController.Insert(PromotionDTO promotion) in C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal\Controllers\PromotionController.cs:line 51
2024-06-02T15:00:42.3479226-03:00 0HN435MUP0D8F:00000001 [INF] Executing "ObjectResult", writing value of type '"System.String"'. (605b4265)
2024-06-02T15:00:42.3519958-03:00 0HN435MUP0D8F:00000001 [INF] Executed action "APITrabalhoFinal.Controllers.PromotionController.Insert (APITrabalhoFinal)" in 1627.7989ms (afa2e885)
2024-06-02T15:00:42.3521047-03:00 0HN435MUP0D8F:00000001 [INF] Executed endpoint '"APITrabalhoFinal.Controllers.PromotionController.Insert (APITrabalhoFinal)"' (99874f2b)
2024-06-02T15:00:42.3653689-03:00 0HN435MUP0D8F:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5034""""/api/Promotion""" - 500 null "text/plain; charset=utf-8" 1676.9054ms (74253ad3)
2024-06-02T15:19:47.6122465-03:00  [INF] Now listening on: "http://localhost:5034" (d826f4b8)
2024-06-02T15:19:47.6202591-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-02T15:19:47.6234423-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-02T15:19:47.6297078-03:00  [INF] Content root path: "C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal" (cc26f24e)
2024-06-02T15:19:48.0297889-03:00 0HN4362AUF3CH:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - null null (d509f86a)
2024-06-02T15:19:48.4025033-03:00 0HN4362AUF3CH:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 384.3608ms (74253ad3)
2024-06-02T15:19:48.4199065-03:00 0HN4362AUF3CH:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-06-02T15:19:48.4199068-03:00 0HN4362AUF3CI:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - null null (d509f86a)
2024-06-02T15:19:48.4227496-03:00 0HN4362AUF3CH:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 2.922ms (74253ad3)
2024-06-02T15:19:48.4578644-03:00 0HN4362AUF3CI:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 38.0692ms (74253ad3)
2024-06-02T15:19:48.5528182-03:00 0HN4362AUF3CI:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - null null (d509f86a)
2024-06-02T15:19:48.7477312-03:00 0HN4362AUF3CI:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 194.8975ms (74253ad3)
2024-06-02T15:20:21.0181888-03:00 0HN4362AUF3CJ:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5034""""/api/Promotion""" - "application/json" 142 (d509f86a)
2024-06-02T15:20:21.0310443-03:00 0HN4362AUF3CJ:00000001 [INF] Executing endpoint '"APITrabalhoFinal.Controllers.PromotionController.Insert (APITrabalhoFinal)"' (500cc934)
2024-06-02T15:20:21.0600734-03:00 0HN4362AUF3CJ:00000001 [INF] Route matched with "{action = \"Insert\", controller = \"Promotion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[APITrabalhoFinal.DataBase.Models.TbPromotion] Insert(APITrabalhoFinal.Services.DTOs.PromotionDTO)" on controller "APITrabalhoFinal.Controllers.PromotionController" ("APITrabalhoFinal"). (122b2fdf)
2024-06-02T15:20:22.5194267-03:00 0HN4362AUF3CJ:00000001 [INF] Executed DbCommand ("48"ms) [Parameters=["@__dto_Productid_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM tb_products AS t
    WHERE t.id = @__dto_Productid_0)" (0723d8ff)
2024-06-02T15:20:22.7022945-03:00 0HN4362AUF3CJ:00000001 [ERR] Failed executing DbCommand ("10"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_promotions (enddate, productid, startdate, value)
VALUES (@p0, @p1, @p2, @p3)
RETURNING id, promotiontype;" (627a98df)
2024-06-02T15:20:22.7571140-03:00 0HN4362AUF3CJ:00000001 [ERR] An exception occurred in the database while saving changes for context type '"APITrabalhoFinal.DataBase.Models.TfDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at APITrabalhoFinal.Services.PromotionService.Insert(PromotionDTO dto) in C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal\Services\PromotionService.cs:line 35
   at APITrabalhoFinal.Controllers.PromotionController.Insert(PromotionDTO promotion) in C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal\Controllers\PromotionController.cs:line 51
2024-06-02T15:20:22.8508791-03:00 0HN4362AUF3CJ:00000001 [INF] Executing "ObjectResult", writing value of type '"System.String"'. (605b4265)
2024-06-02T15:20:22.8543311-03:00 0HN4362AUF3CJ:00000001 [INF] Executed action "APITrabalhoFinal.Controllers.PromotionController.Insert (APITrabalhoFinal)" in 1790.3433ms (afa2e885)
2024-06-02T15:20:22.8544431-03:00 0HN4362AUF3CJ:00000001 [INF] Executed endpoint '"APITrabalhoFinal.Controllers.PromotionController.Insert (APITrabalhoFinal)"' (99874f2b)
2024-06-02T15:20:22.8652785-03:00 0HN4362AUF3CJ:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5034""""/api/Promotion""" - 500 null "text/plain; charset=utf-8" 1847.0309ms (74253ad3)
2024-06-02T15:25:38.5651764-03:00  [INF] Now listening on: "http://localhost:5034" (d826f4b8)
2024-06-02T15:25:38.5734264-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-02T15:25:38.5761367-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-02T15:25:38.5778030-03:00  [INF] Content root path: "C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal" (cc26f24e)
2024-06-02T15:25:38.9384331-03:00 0HN4365JGT7UF:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - null null (d509f86a)
2024-06-02T15:25:39.2777073-03:00 0HN4365JGT7UF:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 346.5506ms (74253ad3)
2024-06-02T15:25:39.2824495-03:00 0HN4365JGT7UG:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - null null (d509f86a)
2024-06-02T15:25:39.2824475-03:00 0HN4365JGT7UF:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-06-02T15:25:39.2864002-03:00 0HN4365JGT7UF:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 4.03ms (74253ad3)
2024-06-02T15:25:39.5035651-03:00 0HN4365JGT7UG:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 221.304ms (74253ad3)
2024-06-02T15:25:39.5779049-03:00 0HN4365JGT7UG:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - null null (d509f86a)
2024-06-02T15:25:39.7703322-03:00 0HN4365JGT7UG:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 192.4657ms (74253ad3)
2024-06-02T15:26:12.0329426-03:00 0HN4365JGT7UH:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5034""""/api/Promotion""" - "application/json" 142 (d509f86a)
2024-06-02T15:26:12.0414218-03:00 0HN4365JGT7UH:00000001 [INF] Executing endpoint '"APITrabalhoFinal.Controllers.PromotionController.Insert (APITrabalhoFinal)"' (500cc934)
2024-06-02T15:26:12.0718272-03:00 0HN4365JGT7UH:00000001 [INF] Route matched with "{action = \"Insert\", controller = \"Promotion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[APITrabalhoFinal.DataBase.Models.TbPromotion] Insert(APITrabalhoFinal.Services.DTOs.PromotionDTO)" on controller "APITrabalhoFinal.Controllers.PromotionController" ("APITrabalhoFinal"). (122b2fdf)
2024-06-02T15:26:13.4508755-03:00 0HN4365JGT7UH:00000001 [INF] Executed DbCommand ("49"ms) [Parameters=["@__dto_Productid_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM tb_products AS t
    WHERE t.id = @__dto_Productid_0)" (0723d8ff)
2024-06-02T15:26:13.6448286-03:00 0HN4365JGT7UH:00000001 [INF] Executed DbCommand ("37"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_promotions (enddate, productid, startdate, value)
VALUES (@p0, @p1, @p2, @p3)
RETURNING id, promotiontype;" (0723d8ff)
2024-06-02T15:26:13.6731409-03:00 0HN4365JGT7UH:00000001 [INF] Executing "OkObjectResult", writing value of type '"APITrabalhoFinal.DataBase.Models.TbPromotion"'. (605b4265)
2024-06-02T15:26:13.6882015-03:00 0HN4365JGT7UH:00000001 [INF] Executed action "APITrabalhoFinal.Controllers.PromotionController.Insert (APITrabalhoFinal)" in 1613.5759ms (afa2e885)
2024-06-02T15:26:13.6883264-03:00 0HN4365JGT7UH:00000001 [INF] Executed endpoint '"APITrabalhoFinal.Controllers.PromotionController.Insert (APITrabalhoFinal)"' (99874f2b)
2024-06-02T15:26:13.6971921-03:00 0HN4365JGT7UH:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5034""""/api/Promotion""" - 200 null "application/json; charset=utf-8" 1664.3381ms (74253ad3)
2024-06-02T15:26:55.0743196-03:00 0HN4365JGT7UI:00000001 [INF] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5034""""/api/Promotion/21""" - "application/json" 141 (d509f86a)
2024-06-02T15:26:55.0757835-03:00 0HN4365JGT7UI:00000001 [INF] Executing endpoint '"APITrabalhoFinal.Controllers.PromotionController.Put (APITrabalhoFinal)"' (500cc934)
2024-06-02T15:26:55.0833283-03:00 0HN4365JGT7UI:00000001 [INF] Route matched with "{action = \"Put\", controller = \"Promotion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[APITrabalhoFinal.DataBase.Models.TbPromotion] Put(Int32, APITrabalhoFinal.Services.DTOs.PromotionDTO)" on controller "APITrabalhoFinal.Controllers.PromotionController" ("APITrabalhoFinal"). (122b2fdf)
2024-06-02T15:26:55.1612639-03:00 0HN4365JGT7UI:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value
FROM tb_promotions AS t
WHERE t.id = @__id_0
LIMIT 1" (0723d8ff)
2024-06-02T15:26:55.1741355-03:00 0HN4365JGT7UI:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__dto_Productid_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM tb_products AS t
    WHERE t.id = @__dto_Productid_0)" (0723d8ff)
2024-06-02T15:26:55.1777453-03:00 0HN4365JGT7UI:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value
FROM tb_promotions AS t
WHERE t.id = @__id_0
LIMIT 1" (0723d8ff)
2024-06-02T15:26:55.1934750-03:00 0HN4365JGT7UI:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Decimal)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_promotions SET enddate = @p0, productid = @p1, promotiontype = @p2, startdate = @p3, value = @p4
WHERE id = @p5;" (0723d8ff)
2024-06-02T15:26:55.1950191-03:00 0HN4365JGT7UI:00000001 [INF] Executing "OkObjectResult", writing value of type '"APITrabalhoFinal.DataBase.Models.TbPromotion"'. (605b4265)
2024-06-02T15:26:55.1953598-03:00 0HN4365JGT7UI:00000001 [INF] Executed action "APITrabalhoFinal.Controllers.PromotionController.Put (APITrabalhoFinal)" in 111.8653ms (afa2e885)
2024-06-02T15:26:55.1953978-03:00 0HN4365JGT7UI:00000001 [INF] Executed endpoint '"APITrabalhoFinal.Controllers.PromotionController.Put (APITrabalhoFinal)"' (99874f2b)
2024-06-02T15:26:55.1955888-03:00 0HN4365JGT7UI:00000001 [INF] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5034""""/api/Promotion/21""" - 200 null "application/json; charset=utf-8" 121.4189ms (74253ad3)
2024-06-02T15:29:07.2847622-03:00  [INF] Now listening on: "http://localhost:5034" (d826f4b8)
2024-06-02T15:29:07.2949760-03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-06-02T15:29:07.3052843-03:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-06-02T15:29:07.3077222-03:00  [INF] Content root path: "C:\Users\JoÃ£o\source\repos\APITrabalhoFinal\APITrabalhoFinal" (cc26f24e)
2024-06-02T15:29:08.1498882-03:00 0HN4367HOT0AB:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - null null (d509f86a)
2024-06-02T15:29:08.6064591-03:00 0HN4367HOT0AB:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 466.413ms (74253ad3)
2024-06-02T15:29:08.6180027-03:00 0HN4367HOT0AB:00000002 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-06-02T15:29:08.6233801-03:00 0HN4367HOT0AB:00000002 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 5.5808ms (74253ad3)
2024-06-02T15:29:08.6415382-03:00 0HN4367HOT0AB:00000003 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - null null (d509f86a)
2024-06-02T15:29:08.6828265-03:00 0HN4367HOT0AB:00000003 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 41.4371ms (74253ad3)
2024-06-02T15:29:09.1122200-03:00 0HN4367HOT0AB:00000004 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - null null (d509f86a)
2024-06-02T15:29:09.3141733-03:00 0HN4367HOT0AB:00000004 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5034""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 201.9668ms (74253ad3)
2024-06-02T15:29:31.0501628-03:00 0HN4367HOT0AD:00000001 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5034""""/api/Sales""" - "application/json" 99 (d509f86a)
2024-06-02T15:29:31.0678673-03:00 0HN4367HOT0AD:00000001 [INF] Executing endpoint '"APITrabalhoFinal.Controllers.SalesController.Insert (APITrabalhoFinal)"' (500cc934)
2024-06-02T15:29:31.0999759-03:00 0HN4367HOT0AD:00000001 [INF] Route matched with "{action = \"Insert\", controller = \"Sales\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.ActionResult`1[APITrabalhoFinal.DataBase.Models.TbSale] Insert(APITrabalhoFinal.Services.DTOs.SaleDTO)" on controller "APITrabalhoFinal.Controllers.SalesController" ("APITrabalhoFinal"). (122b2fdf)
2024-06-02T15:29:32.4664917-03:00 0HN4367HOT0AD:00000001 [INF] Executed DbCommand ("45"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.barcode, t.barcodetype, t.costprice, t.description, t.price, t.stock
FROM tb_products AS t
WHERE t.id = @__id_0
LIMIT 1" (0723d8ff)
2024-06-02T15:29:32.5703436-03:00 0HN4367HOT0AD:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.id, t.enddate, t.productid, t.promotiontype, t.startdate, t.value
FROM tb_promotions AS t
WHERE t.productid = @__productId_0 AND t.startdate <= now()::timestamp AND t.enddate >= now()::timestamp
ORDER BY t.promotiontype" (0723d8ff)
2024-06-02T15:29:32.7186985-03:00 0HN4367HOT0AD:00000001 [INF] Executed DbCommand ("21"ms) [Parameters=["@p6='?' (DbType = Int32), @p0='?', @p1='?', @p2='?' (DbType = Decimal), @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?', @p8='?' (DbType = DateTime2), @p9='?' (DbType = Decimal), @p10='?' (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE tb_products SET barcode = @p0, barcodetype = @p1, costprice = @p2, description = @p3, price = @p4, stock = @p5
WHERE id = @p6;
INSERT INTO tb_sales (code, createat, discount, price, productid, qty)
VALUES (@p7, @p8, @p9, @p10, @p11, @p12)
RETURNING id;" (0723d8ff)
2024-06-02T15:29:32.7714828-03:00 0HN4367HOT0AD:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO tb_stock_logs (createdat, productid, qty)
VALUES (@p0, @p1, @p2)
RETURNING id;" (0723d8ff)
2024-06-02T15:29:32.7842181-03:00 0HN4367HOT0AD:00000001 [INF] Executing "OkObjectResult", writing value of type '"APITrabalhoFinal.DataBase.Models.TbSale"'. (605b4265)
2024-06-02T15:29:32.8063352-03:00 0HN4367HOT0AD:00000001 [INF] Executed action "APITrabalhoFinal.Controllers.SalesController.Insert (APITrabalhoFinal)" in 1703.4487ms (afa2e885)
2024-06-02T15:29:32.8064583-03:00 0HN4367HOT0AD:00000001 [INF] Executed endpoint '"APITrabalhoFinal.Controllers.SalesController.Insert (APITrabalhoFinal)"' (99874f2b)
2024-06-02T15:29:32.8127981-03:00 0HN4367HOT0AD:00000001 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5034""""/api/Sales""" - 200 null "application/json; charset=utf-8" 1762.6841ms (74253ad3)
